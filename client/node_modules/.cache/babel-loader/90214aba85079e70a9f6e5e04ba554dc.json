{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Itay\\\\Desktop\\\\proj\\\\shopping\\\\client\\\\src\\\\admin\\\\screens\\\\Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react'; // REDUX\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getFilters, createFilter } from '../../redux/adminStore/slices/filtersSlice';\nimport { getProducts, createProduct, patchProduct, deleteProduct } from '../../redux/adminStore/slices/productsSlice'; // MUI\n\nimport { Grid, Box, Button, Skeleton } from '@mui/material';\nimport { Close, Create } from '@mui/icons-material'; // COMPONENTS\n\nimport FilterAdd from '../components/FilterAdd';\nimport ProductAdd from '../components/ProductAdd';\nimport ProductTable from '../components/ProductTable'; // THEME\n\nimport Theme from '../../constants/Theme';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Dashboard = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const filters = useSelector(state => state.filters);\n  const products = useSelector(state => state.products); // FILTERS\n  // create button\n\n  const [filterButton, setFilterButton] = useState(false);\n\n  const createFilterClicked = () => {\n    setFilterButton(!filterButton);\n  }; // call API\n\n\n  const onCreateFilter = filter => {\n    dispatch(createFilter(filter));\n  }; // PRODUCTS //////////////////////////////////////////////////\n  // create button\n\n\n  const [productButton, setProductButton] = useState(false);\n\n  const createProductClicked = () => {\n    setProductButton(!productButton);\n  }; // API CALLS\n\n\n  const onCreateProduct = product => {\n    // create\n    dispatch(createProduct(product));\n  }; // PRODUCT TABLE CALLBACK\n\n\n  const onProductAction = props => {\n    const {\n      type,\n      product\n    } = props;\n\n    switch (type.toString().toLowerCase()) {\n      case 'delete':\n        // delete\n        dispatch(deleteProduct(product.id));\n        break;\n\n      case 'edit':\n        // edit\n        dispatch(patchProduct(product));\n        break;\n\n      case 'status':\n        // change status\n        let prod = { ...product\n        };\n        prod['productStatus'] = prod['productStatus'].toString().toLowerCase() === 'active' ? 'inactive' : 'active';\n        dispatch(patchProduct(prod));\n        break;\n\n      default:\n        break;\n    }\n  }; // WAIT FOR CHANGES (after calling Product API)\n\n\n  useEffect(() => {\n    setProductButton(false);\n  }, [products]); //\\ PRODUCTS /////////////////////////////////////////////////\n  // on MOUNT\n\n  useEffect(() => {\n    dispatch(getFilters());\n    dispatch(getProducts());\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      flexGrow: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      padding: 2,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        justifyContent: 'center',\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.title,\n          children: \"Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        display: 'flex',\n        justifyContent: 'center',\n        children: filterButton ? /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"error\",\n          onClick: createFilterClicked,\n          startIcon: /*#__PURE__*/_jsxDEV(Close, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 26\n          }, this),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: createFilterClicked,\n          startIcon: /*#__PURE__*/_jsxDEV(Create, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 26\n          }, this),\n          children: \"Create new Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), filterButton && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(FilterAdd, {\n          filters: filters,\n          onCreateFilter: onCreateFilter,\n          alert: filters.alert\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      padding: 2,\n      mt: 5,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        justifyContent: 'center',\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.title,\n          children: \"Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          display: 'flex',\n          justifyContent: 'center',\n          children: productButton ? /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"error\",\n            onClick: createProductClicked,\n            startIcon: /*#__PURE__*/_jsxDEV(Close, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 28\n            }, this),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: createProductClicked,\n            startIcon: /*#__PURE__*/_jsxDEV(Create, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 28\n            }, this),\n            children: \"Create new Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), productButton && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(ProductAdd, {\n          filters: filters,\n          onCreateProduct: onCreateProduct,\n          alert: products.alert\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      padding: 2,\n      mt: 5,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        justifyContent: 'center',\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.title,\n          children: \"Products List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), products.productsList.length > 0 ? /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(ProductTable, {\n          data: products.productsList,\n          filters: filters,\n          onProductAction: onProductAction\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        justifyContent: 'center',\n        children: products.loading === 'loading' ? /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: styles.subtitle,\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              width: 1 / 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n              height: 50\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n              height: 50,\n              animation: \"wave\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n              height: 50,\n              animation: \"wave\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.subtitle,\n          children: \"Products List is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Dashboard, \"FE2P4Xo7LX4dBcofHHTfUf5RmXs=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Dashboard;\nconst styles = {\n  container: {\n    width: '80%',\n    padding: 8,\n    backgroundColor: 'azure',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n    alignItems: 'center'\n  },\n  title: {\n    fontSize: 24,\n    color: Theme.colors.pageTitle\n  },\n  subtitle: {\n    fontSize: 18,\n    color: Theme.colors.pageSubTitle\n  }\n};\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["C:/Users/Itay/Desktop/proj/shopping/client/src/admin/screens/Dashboard.js"],"names":["React","useEffect","useState","useSelector","useDispatch","getFilters","createFilter","getProducts","createProduct","patchProduct","deleteProduct","Grid","Box","Button","Skeleton","Close","Create","FilterAdd","ProductAdd","ProductTable","Theme","Dashboard","dispatch","filters","state","products","filterButton","setFilterButton","createFilterClicked","onCreateFilter","filter","productButton","setProductButton","createProductClicked","onCreateProduct","product","onProductAction","props","type","toString","toLowerCase","id","prod","flexGrow","styles","title","alert","productsList","length","loading","subtitle","width","container","padding","backgroundColor","display","flexDirection","justifyContent","alignItems","fontSize","color","colors","pageTitle","pageSubTitle"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C,C,CAEA;;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SACEC,UADF,EAEEC,YAFF,QAGO,4CAHP;AAIA,SACEC,WADF,EAEEC,aAFF,EAGEC,YAHF,EAIEC,aAJF,QAKO,6CALP,C,CAOA;;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,eAA5C;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,qBAA9B,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,YAAP,MAAyB,4BAAzB,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,uBAAlB;;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AACtB,QAAMC,QAAQ,GAAGlB,WAAW,EAA5B;AACA,QAAMmB,OAAO,GAAGpB,WAAW,CAAEqB,KAAD,IAAWA,KAAK,CAACD,OAAlB,CAA3B;AACA,QAAME,QAAQ,GAAGtB,WAAW,CAAEqB,KAAD,IAAWA,KAAK,CAACC,QAAlB,CAA5B,CAHsB,CAKtB;AACA;;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCzB,QAAQ,CAAC,KAAD,CAAhD;;AACA,QAAM0B,mBAAmB,GAAG,MAAM;AAChCD,IAAAA,eAAe,CAAC,CAACD,YAAF,CAAf;AACD,GAFD,CARsB,CAWtB;;;AACA,QAAMG,cAAc,GAAIC,MAAD,IAAY;AACjCR,IAAAA,QAAQ,CAAChB,YAAY,CAACwB,MAAD,CAAb,CAAR;AACD,GAFD,CAZsB,CAgBtB;AACA;;;AACA,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoC9B,QAAQ,CAAC,KAAD,CAAlD;;AACA,QAAM+B,oBAAoB,GAAG,MAAM;AACjCD,IAAAA,gBAAgB,CAAC,CAACD,aAAF,CAAhB;AACD,GAFD,CAnBsB,CAsBtB;;;AACA,QAAMG,eAAe,GAAIC,OAAD,IAAa;AACnC;AACAb,IAAAA,QAAQ,CAACd,aAAa,CAAC2B,OAAD,CAAd,CAAR;AACD,GAHD,CAvBsB,CA4BtB;;;AACA,QAAMC,eAAe,GAAIC,KAAD,IAAW;AACjC,UAAM;AAAEC,MAAAA,IAAF;AAAQH,MAAAA;AAAR,QAAoBE,KAA1B;;AACA,YAAQC,IAAI,CAACC,QAAL,GAAgBC,WAAhB,EAAR;AACE,WAAK,QAAL;AACE;AACAlB,QAAAA,QAAQ,CAACZ,aAAa,CAACyB,OAAO,CAACM,EAAT,CAAd,CAAR;AACA;;AACF,WAAK,MAAL;AACE;AACAnB,QAAAA,QAAQ,CAACb,YAAY,CAAC0B,OAAD,CAAb,CAAR;AACA;;AACF,WAAK,QAAL;AACE;AACA,YAAIO,IAAI,GAAG,EAAE,GAAGP;AAAL,SAAX;AACAO,QAAAA,IAAI,CAAC,eAAD,CAAJ,GACEA,IAAI,CAAC,eAAD,CAAJ,CAAsBH,QAAtB,GAAiCC,WAAjC,OAAmD,QAAnD,GACI,UADJ,GAEI,QAHN;AAIAlB,QAAAA,QAAQ,CAACb,YAAY,CAACiC,IAAD,CAAb,CAAR;AAEA;;AAEF;AACE;AArBJ;AAuBD,GAzBD,CA7BsB,CAwDtB;;;AACAzC,EAAAA,SAAS,CAAC,MAAM;AACd+B,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD,GAFQ,EAEN,CAACP,QAAD,CAFM,CAAT,CAzDsB,CA4DtB;AAEA;;AACAxB,EAAAA,SAAS,CAAC,MAAM;AACdqB,IAAAA,QAAQ,CAACjB,UAAU,EAAX,CAAR;AACAiB,IAAAA,QAAQ,CAACf,WAAW,EAAZ,CAAR;AACD,GAHQ,EAGN,EAHM,CAAT;AAKA,sBACE,QAAC,GAAD;AAAK,IAAA,EAAE,EAAE;AAAEoC,MAAAA,QAAQ,EAAE;AAAZ,KAAT;AAAA,4BACE,QAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAE,CAAzB;AAA4B,MAAA,OAAO,EAAE,CAArC;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAmB,QAAA,cAAc,EAAE,QAAnC;AAAA,+BACE;AAAM,UAAA,KAAK,EAAEC,MAAM,CAACC,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAmB,QAAA,OAAO,EAAE,MAA5B;AAAoC,QAAA,cAAc,EAAE,QAApD;AAAA,kBACGnB,YAAY,gBACX,QAAC,MAAD;AACE,UAAA,OAAO,EAAC,WADV;AAEE,UAAA,KAAK,EAAC,OAFR;AAGE,UAAA,OAAO,EAAEE,mBAHX;AAIE,UAAA,SAAS,eAAE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,kBAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADW,gBAUX,QAAC,MAAD;AACE,UAAA,OAAO,EAAC,WADV;AAEE,UAAA,OAAO,EAAEA,mBAFX;AAGE,UAAA,SAAS,eAAE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,kBAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXJ;AAAA;AAAA;AAAA;AAAA,cAJF,EAwBGF,YAAY,iBACX,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,+BACE,QAAC,SAAD;AACE,UAAA,OAAO,EAAEH,OADX;AAEE,UAAA,cAAc,EAAEM,cAFlB;AAGE,UAAA,KAAK,EAAEN,OAAO,CAACuB;AAHjB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAzBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAmCE,QAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAE,CAAzB;AAA4B,MAAA,OAAO,EAAE,CAArC;AAAwC,MAAA,EAAE,EAAE,CAA5C;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAmB,QAAA,cAAc,EAAE,QAAnC;AAAA,+BACE;AAAM,UAAA,KAAK,EAAEF,MAAM,CAACC,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,IAAI,MAAV;AAAW,UAAA,EAAE,EAAE,EAAf;AAAmB,UAAA,OAAO,EAAE,MAA5B;AAAoC,UAAA,cAAc,EAAE,QAApD;AAAA,oBACGd,aAAa,gBACZ,QAAC,MAAD;AACE,YAAA,OAAO,EAAC,WADV;AAEE,YAAA,KAAK,EAAC,OAFR;AAGE,YAAA,OAAO,EAAEE,oBAHX;AAIE,YAAA,SAAS,eAAE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,oBAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADY,gBAUZ,QAAC,MAAD;AACE,YAAA,OAAO,EAAC,WADV;AAEE,YAAA,OAAO,EAAEA,oBAFX;AAGE,YAAA,SAAS,eAAE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,oBAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF,EA0BGF,aAAa,iBACZ,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,+BACE,QAAC,UAAD;AACE,UAAA,OAAO,EAAER,OADX;AAEE,UAAA,eAAe,EAAEW,eAFnB;AAGE,UAAA,KAAK,EAAET,QAAQ,CAACqB;AAHlB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA3BJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAnCF,eAwEE,QAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAE,CAAzB;AAA4B,MAAA,OAAO,EAAE,CAArC;AAAwC,MAAA,EAAE,EAAE,CAA5C;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAmB,QAAA,cAAc,EAAE,QAAnC;AAAA,+BACE;AAAM,UAAA,KAAK,EAAEF,MAAM,CAACC,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,EAIGpB,QAAQ,CAACsB,YAAT,CAAsBC,MAAtB,GAA+B,CAA/B,gBACC,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,+BACE,QAAC,YAAD;AACE,UAAA,IAAI,EAAEvB,QAAQ,CAACsB,YADjB;AAEE,UAAA,OAAO,EAAExB,OAFX;AAGE,UAAA,eAAe,EAAEa;AAHnB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADD,gBASC,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAmB,QAAA,cAAc,EAAE,QAAnC;AAAA,kBACGX,QAAQ,CAACwB,OAAT,KAAqB,SAArB,gBACC,QAAC,IAAD;AACE,UAAA,IAAI,MADN;AAEE,UAAA,EAAE,EAAE,EAFN;AAGE,UAAA,OAAO,EAAE,MAHX;AAIE,UAAA,aAAa,EAAE,QAJjB;AAKE,UAAA,UAAU,EAAE,QALd;AAAA,kCAOE;AAAM,YAAA,KAAK,EAAEL,MAAM,CAACM,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,eAQE,QAAC,GAAD;AAAK,YAAA,EAAE,EAAE;AAAEC,cAAAA,KAAK,EAAE,IAAI;AAAb,aAAT;AAAA,oCACE,QAAC,QAAD;AAAU,cAAA,MAAM,EAAE;AAAlB;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,QAAC,QAAD;AAAU,cAAA,MAAM,EAAE,EAAlB;AAAsB,cAAA,SAAS,EAAC;AAAhC;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE,QAAC,QAAD;AAAU,cAAA,MAAM,EAAE,EAAlB;AAAsB,cAAA,SAAS,EAAC;AAAhC;AAAA;AAAA;AAAA;AAAA,oBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,gBAgBC;AAAM,UAAA,KAAK,EAAEP,MAAM,CAACM,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAjBJ;AAAA;AAAA;AAAA;AAAA,cAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAxEF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA8GD,CAlLD;;GAAM7B,S;UACajB,W,EACDD,W,EACCA,W;;;KAHbkB,S;AAoLN,MAAMuB,MAAM,GAAG;AACbQ,EAAAA,SAAS,EAAE;AACTD,IAAAA,KAAK,EAAE,KADE;AAETE,IAAAA,OAAO,EAAE,CAFA;AAGTC,IAAAA,eAAe,EAAE,OAHR;AAITC,IAAAA,OAAO,EAAE,MAJA;AAKTC,IAAAA,aAAa,EAAE,QALN;AAMTC,IAAAA,cAAc,EAAE,YANP;AAOTC,IAAAA,UAAU,EAAE;AAPH,GADE;AAUbb,EAAAA,KAAK,EAAE;AAAEc,IAAAA,QAAQ,EAAE,EAAZ;AAAgBC,IAAAA,KAAK,EAAExC,KAAK,CAACyC,MAAN,CAAaC;AAApC,GAVM;AAWbZ,EAAAA,QAAQ,EAAE;AAAES,IAAAA,QAAQ,EAAE,EAAZ;AAAgBC,IAAAA,KAAK,EAAExC,KAAK,CAACyC,MAAN,CAAaE;AAApC;AAXG,CAAf;AAaA,eAAe1C,SAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\n// REDUX\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  getFilters,\r\n  createFilter,\r\n} from '../../redux/adminStore/slices/filtersSlice';\r\nimport {\r\n  getProducts,\r\n  createProduct,\r\n  patchProduct,\r\n  deleteProduct,\r\n} from '../../redux/adminStore/slices/productsSlice';\r\n\r\n// MUI\r\nimport { Grid, Box, Button, Skeleton } from '@mui/material';\r\nimport { Close, Create } from '@mui/icons-material';\r\n\r\n// COMPONENTS\r\nimport FilterAdd from '../components/FilterAdd';\r\nimport ProductAdd from '../components/ProductAdd';\r\nimport ProductTable from '../components/ProductTable';\r\n\r\n// THEME\r\nimport Theme from '../../constants/Theme';\r\n\r\nconst Dashboard = () => {\r\n  const dispatch = useDispatch();\r\n  const filters = useSelector((state) => state.filters);\r\n  const products = useSelector((state) => state.products);\r\n\r\n  // FILTERS\r\n  // create button\r\n  const [filterButton, setFilterButton] = useState(false);\r\n  const createFilterClicked = () => {\r\n    setFilterButton(!filterButton);\r\n  };\r\n  // call API\r\n  const onCreateFilter = (filter) => {\r\n    dispatch(createFilter(filter));\r\n  };\r\n\r\n  // PRODUCTS //////////////////////////////////////////////////\r\n  // create button\r\n  const [productButton, setProductButton] = useState(false);\r\n  const createProductClicked = () => {\r\n    setProductButton(!productButton);\r\n  };\r\n  // API CALLS\r\n  const onCreateProduct = (product) => {\r\n    // create\r\n    dispatch(createProduct(product));\r\n  };\r\n\r\n  // PRODUCT TABLE CALLBACK\r\n  const onProductAction = (props) => {\r\n    const { type, product } = props;\r\n    switch (type.toString().toLowerCase()) {\r\n      case 'delete':\r\n        // delete\r\n        dispatch(deleteProduct(product.id));\r\n        break;\r\n      case 'edit':\r\n        // edit\r\n        dispatch(patchProduct(product));\r\n        break;\r\n      case 'status':\r\n        // change status\r\n        let prod = { ...product };\r\n        prod['productStatus'] =\r\n          prod['productStatus'].toString().toLowerCase() === 'active'\r\n            ? 'inactive'\r\n            : 'active';\r\n        dispatch(patchProduct(prod));\r\n\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  // WAIT FOR CHANGES (after calling Product API)\r\n  useEffect(() => {\r\n    setProductButton(false);\r\n  }, [products]);\r\n  //\\ PRODUCTS /////////////////////////////////////////////////\r\n\r\n  // on MOUNT\r\n  useEffect(() => {\r\n    dispatch(getFilters());\r\n    dispatch(getProducts());\r\n  }, []);\r\n\r\n  return (\r\n    <Box sx={{ flexGrow: 1 }}>\r\n      <Grid container spacing={2} padding={2}>\r\n        <Grid item xs={12} justifyContent={'center'}>\r\n          <span style={styles.title}>Filters</span>\r\n        </Grid>\r\n        <Grid item xs={12} display={'flex'} justifyContent={'center'}>\r\n          {filterButton ? (\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"error\"\r\n              onClick={createFilterClicked}\r\n              startIcon={<Close />}\r\n            >\r\n              Close\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={createFilterClicked}\r\n              startIcon={<Create />}\r\n            >\r\n              Create new Filter\r\n            </Button>\r\n          )}\r\n        </Grid>\r\n        {filterButton && (\r\n          <Grid item xs={12}>\r\n            <FilterAdd\r\n              filters={filters}\r\n              onCreateFilter={onCreateFilter}\r\n              alert={filters.alert}\r\n            />\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n      <Grid container spacing={2} padding={2} mt={5}>\r\n        <Grid item xs={12} justifyContent={'center'}>\r\n          <span style={styles.title}>Product</span>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Grid item xs={12} display={'flex'} justifyContent={'center'}>\r\n            {productButton ? (\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"error\"\r\n                onClick={createProductClicked}\r\n                startIcon={<Close />}\r\n              >\r\n                Close\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={createProductClicked}\r\n                startIcon={<Create />}\r\n              >\r\n                Create new Product\r\n              </Button>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n        {productButton && (\r\n          <Grid item xs={12}>\r\n            <ProductAdd\r\n              filters={filters}\r\n              onCreateProduct={onCreateProduct}\r\n              alert={products.alert}\r\n            />\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n\r\n      <Grid container spacing={2} padding={2} mt={5}>\r\n        <Grid item xs={12} justifyContent={'center'}>\r\n          <span style={styles.title}>Products List</span>\r\n        </Grid>\r\n        {products.productsList.length > 0 ? (\r\n          <Grid item xs={12}>\r\n            <ProductTable\r\n              data={products.productsList}\r\n              filters={filters}\r\n              onProductAction={onProductAction}\r\n            />\r\n          </Grid>\r\n        ) : (\r\n          <Grid item xs={12} justifyContent={'center'}>\r\n            {products.loading === 'loading' ? (\r\n              <Grid\r\n                item\r\n                xs={12}\r\n                display={'flex'}\r\n                flexDirection={'column'}\r\n                alignItems={'center'}\r\n              >\r\n                <span style={styles.subtitle}>Loading...</span>\r\n                <Box sx={{ width: 1 / 2 }}>\r\n                  <Skeleton height={50} />\r\n                  <Skeleton height={50} animation=\"wave\" />\r\n                  <Skeleton height={50} animation=\"wave\" />\r\n                </Box>\r\n              </Grid>\r\n            ) : (\r\n              <span style={styles.subtitle}>Products List is empty</span>\r\n            )}\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    width: '80%',\r\n    padding: 8,\r\n    backgroundColor: 'azure',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n  },\r\n  title: { fontSize: 24, color: Theme.colors.pageTitle },\r\n  subtitle: { fontSize: 18, color: Theme.colors.pageSubTitle },\r\n};\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}